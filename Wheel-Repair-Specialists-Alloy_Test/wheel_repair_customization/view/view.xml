<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_partnerform" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
         <xpath expr="//field[@name='company_type']" position="after">
                    <div>
                        <field name="is_insurance"  attrs="{'invisible': ['|',('is_company','=', True)]}"/>
                        <label for="is_insurance"  attrs="{'invisible': ['|',('is_company','=', True)]}"/>
                    </div>
                </xpath>
            <xpath expr="//field[@name='parent_id']" position="attributes">
                   <attribute name="attrs">{'invisible': ['|','&amp;','|', ('is_company','=', True),('is_insurance','=', True),('parent_id', '=', False),('company_name', '!=', False),('company_name', '!=', '')]}</attribute>
                </xpath>

            <xpath expr="//field[@name='parent_id']" position="after">
                    <field name="insurance_company"  widget="res_partner_many2one" placeholder="Insurance Company" domain="[('is_company', '=', True)]"  attrs="{'invisible': ['|',('is_company','=', True),('is_insurance','=', False)]}"/>
                </xpath>

            <xpath expr="//notebook/page[3]" position="after">

            <page name="Additional Info" string="Additional Info">
                <group colspan="8" col="4">
                    <field name="chasis_no"/>
                    <field name="job_card_no" attrs="{'invisible': [('company_type','=', 'person'),('is_insurance','=',False)]}"/>
                    <field name="odoo_meter" attrs="{'invisible': ['|',('is_company','=', True),('is_insurance','=',True)]}"/>
                     <field name="claim_no" attrs="{'invisible': ['|',('is_company','=', True),('is_insurance','=', False)]}"/>
                    <field name="service_advisor" attrs="{'invisible': ['|',('is_company','=', True),('is_insurance','=', False)]}"/>
                    <field name="agency_name"/>
                     <field name="plate_no"/>
                    <field name="car_type"/>
                    <field name="source" attrs="{'invisible': ['|',('is_company','=', True),('is_insurance','=', False)]}"/>
                </group>
            </page>
            </xpath>
        </field>
    </record>


    </data>
</odoo>
