<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="reportinvoice_customize" inherit_id="account.report_invoice_document">
            <xpath expr="//div[hasclass('page')]/div[1]" position="after">
                <br/>
                <div>
                    <t t-if="o.sale_id.vehicle.insurance_company">

                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                <span style="font-weight:bold;">Agency Name:</span>
                            </div>
                            <div class="right" style="float: right;white-space: nowrap;">
                                <span t-esc="o.sale_id.vehicle.insurance_company.name"></span>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.claim_no">
                        <div style="overflow:hidden">
                         <span style="float:left;font-weight:bold;">Claim# :</span>
                        <span style="float:right;white-space: nowrap;" t-esc="o.sale_id.claim_no"/>
                        </div>
                    </t>
                    <t t-if="o.sale_id.service_advisor">

                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                  <span style="float:left;font-weight:bold;">Service Advisor :</span>
                            </div>
                            <div class="right" style="float: right;">
                                  <span style="white-space: nowrap;" t-esc="o.sale_id.service_advisor.name"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.partner_id.jobcard_no">
                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                   <span style="float:left;font-weight:bold;">Job Card # :</span>
                            </div>
                            <div class="right" style="float: right;">
                                  <span style="white-space: nowrap;" t-esc="o.sale_id.partner_id.jobcard_no"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.vehicle.license_plate">
                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                  <span style="float:left;font-weight:bold;">Plate # :</span>
                            </div>
                            <div class="right" style="float: right;">
                               <span style="float:right;white-space: nowrap;" t-esc="o.sale_id.vehicle.license_plate"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.vehicle.model_id">

                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                  <span style="float:left;font-weight:bold;">Car Type:</span>
                            </div>
                            <div class="right" style="float: right;">
                                   <span style="float:right;white-space: nowrap;" t-esc="o.sale_id.vehicle.model_id.name"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.vehicle.vin_sn">
                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                  <span style="float:left;font-weight:bold;">Chasis # :</span>
                            </div>
                            <div class="right" style="float: right;">
                                 <span style="float:right;white-space: nowrap;" t-esc="o.sale_id.vehicle.vin_sn"/>
                            </div>
                        </div>
                    </t>
                    <t t-if="o.sale_id.vehicle.odometer">
                        <div style="overflow:hidden">
                            <div class="left" style="float: left;">
                                  <span style="float:left;font-weight:bold;">Odoo Meter :</span>
                            </div>
                            <div class="right" style="float: right;">
                                 <span style="float:right;white-space: nowrap;" t-esc="o.sale_id.vehicle.odometer"/>
                            </div>
                        </div>
                    </t>
                    <br/>
                </div>
            </xpath>
             <xpath expr="//div[hasclass('page')]/table[1]/thead[1]/tr[1]/th[6]" position="replace">
               <th t-attf-class="text-left {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}"><span>VAT</span></th>
            </xpath>

            <xpath expr="//div[hasclass('page')]/table[1]/thead[1]/tr[1]" position="before">
                <tr>
                    <t t-set="colspan" t-value="5"/>
                    <th class="text-left">‫الوصف‬</th>
                    <th class="text-right">ا‫لكمية‬</th>
                    <th class="text-right">‫السعر‬</th>
                    <th t-if="display_discount" class="text-right" groups="sale.group_discount_per_so_line">
                        <span>التخفيض .(%)</span>
                        <t t-set="colspan" t-value="colspan+1"/>
                    </th>
                    <th class="text-right">‫الضريبة‬</th>
                    <th class="text-right">
                        <t groups="account.group_show_line_subtotals_tax_excluded">‫المجموع‬</t>
                        <t groups="account.group_show_line_subtotals_tax_included">‫المجموع‬</t>
                    </th>
                </tr>

            </xpath>


               <xpath expr="//div[hasclass('page')]/div[3]" position="replace">
                   <div class="clearfix">
                        <div id="total" class="row">
                            <div t-attf-class="#{'col-4' if report_type != 'html' else 'col-sm-7 col-md-5'} ml-auto">
                                <table class="table table-sm">
                                    <tr class="border-black o_subtotal" style="">
                                        <td><strong>
                                            <span>Subtotal</span>
                                            <span>/</span>
                                            <span>الاجمالي قبل‬ ‫الضر‬‫يبه‬</span>
                                        </strong></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_untaxed"/>
                                        </td>
                                    </tr>
                                    <t t-foreach="o.amount_by_group" t-as="amount_by_group">
                                        <tr style="">
                                            <t t-if="len(o.tax_line_ids) == 1 and o.amount_untaxed == amount_by_group[2]">
                                                <td><span t-esc="amount_by_group[0]"/></td>
                                                <td class="text-right o_price_total">
                                                    <span t-esc="amount_by_group[3]"/>
                                                </td>
                                            </t>
                                            <t t-else="">
                                                <td>
                                                    <span t-esc="amount_by_group[0]"/>
                                                    <span>&amp;nbsp;<span>on</span>
                                                        <t t-esc="amount_by_group[4]"/>
                                                    </span>
                                                </td>
                                                <td class="text-right o_price_total">
                                                    <span t-esc="amount_by_group[3]"/>
                                                </td>
                                            </t>
                                        </tr>
                                    </t>
                                    <tr class="border-black o_total">
                                        <td><span>Total</span>
                                            <span>/</span>
                                            <span>‫ الاجمالي بعدالضر‬‫يبه‬</span></td>
                                        <td class="text-right">
                                            <span t-field="o.amount_total"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="mt32 ml16 mr16" name="signature">
                    <div class="offset-8">
                        <strong>Customer Sign</strong>
                        <br/>
                        <strong>‬‫توقيع ‫العميل‬‬</strong>
                        <span style="margin-left:30px;display: inline-block;
                          border-bottom: 1px solid #000;
                          width: 100px;  margin-left: 120px;margin-bottom:10px;
                          border-top: 1px solid #000;
                          width: 200px;
                          text-align: right;"></span>
                    </div>
                </div>

            </xpath>
                <!--<div class="clearfix">-->
                    <!--<div id="total" class="row" name="total">-->
                        <!--<div t-attf-class="#{'col-4' if report_type != 'html' else 'col-sm-7 col-md-5'} ml-auto">-->
                            <!--<table class="table table-sm">-->
                                <!--<tr class="border-black o_subtotal" style="">-->
                                    <!--<td>-->
                                        <!--<strong>-->
                                            <!--<span>Subtotal</span>-->
                                            <!--<span>/</span>-->
                                            <!--<span>الاجمالي قبل‬ ‫الضر‬‫يبه‬</span>-->
                                        <!--</strong>-->
                                    <!--</td>-->
                                    <!--<td class="text-right">-->
                                        <!--<span t-field="o.sale_idamount_untaxed"/>-->
                                    <!--</td>-->
                                <!--</tr>-->
                                <!--<t t-foreach="o.sale_idamount_by_group" t-as="amount_by_group">-->
                                    <!--<tr style="">-->
                                        <!--<t t-if="amount_by_group[3] == 1 and o.sale_idamount_untaxed == amount_by_group[2]">-->
                                            <!--<td>-->
                                                <!--<span t-esc="amount_by_group[0]"/>-->
                                                <!--<span>&amp;nbsp;<span>on</span>&amp;nbsp;-->
                                                    <!--<t t-esc="amount_by_group[2]"-->
                                                       <!--t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.sale_idpricelist_id.currency_id}"/>-->
                                                <!--</span>-->
                                            <!--</td>-->
                                            <!--<td class="text-right o_price_total">-->
                                                <!--<span t-esc="amount_by_group[1]"-->
                                                      <!--t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.sale_idpricelist_id.currency_id}"/>-->
                                            <!--</td>-->
                                        <!--</t>-->
                                        <!--<t t-else="">-->
                                            <!--<td>-->
                                                <!--<span t-esc="amount_by_group[0]"/>-->
                                            <!--</td>-->
                                            <!--<td class="text-right o_price_total">-->
                                                <!--<span t-esc="amount_by_group[1]"-->
                                                      <!--t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.sale_idpricelist_id.currency_id}"/>-->
                                            <!--</td>-->
                                        <!--</t>-->
                                    <!--</tr>-->
                                <!--</t>-->
                                <!--<tr class="border-black o_total">-->
                                    <!--<td>-->
                                        <!--<strong>-->
                                            <!--<span>Total</span>-->
                                            <!--<span>/</span>-->
                                            <!--<span>‫ الاجمالي بعدالضر‬‫يبه‬</span>-->
                                        <!--</strong>-->
                                    <!--</td>-->
                                    <!--<td class="text-right">-->
                                        <!--<span t-field="o.sale_idamount_total"/>-->
                                    <!--</td>-->
                                <!--</tr>-->
                            <!--</table>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="mt32 ml16 mr16" name="signature">-->
                    <!--<div class="offset-8">-->
                        <!--<strong>Customer Sign</strong>-->
                        <!--<br/>-->
                        <!--<strong>‬‫توقيع ‫العميل‬‬</strong>-->
                        <!--<span style="margin-left:30px;display: inline-block;-->
                          <!--border-bottom: 1px solid #000;-->
                          <!--width: 100px;  margin-left: 120px;margin-bottom:10px;-->
                          <!--border-top: 1px solid #000;-->
                          <!--width: 200px;-->
                          <!--text-align: right;"></span>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</xpath>-->


        </template>


    </data>
</odoo>
